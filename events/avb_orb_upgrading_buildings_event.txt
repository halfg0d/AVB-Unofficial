
namespace = avb_orb_up
#Robot Assembly
planet_event = {
	id = avb_orb_up.11
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		last_building_changed = building_avb_orb_ring_connection_robot_2
		has_building = building_avb_orb_ring_connection_robot_2
		exists = planet
		planet = {
			has_planet_flag = avb_orb_robot_assembly_1
		}
		exists = owner
		owner = {
			has_technology = tech_ring_avb_robot_assembly_2
		}
		is_building_similar_to_robot_assembly = yes
	}

	immediate = {
		remove_building = building_avb_orb_ring_connection_robot_2
		add_building = building_avb_orb_ring_connection
		remove_planet_flag = avb_orb_robot_assembly_1
		set_planet_flag = avb_orb_robot_assembly_2
	}
}
planet_event = {
	id = avb_orb_up.12
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		last_building_changed = building_avb_orb_ring_connection_robot_3
		has_building = building_avb_orb_ring_connection_robot_3
		exists = planet
		planet = {
			has_planet_flag = avb_orb_robot_assembly_2
		}
		exists = owner
		owner = {
			has_technology = tech_ring_avb_robot_assembly_3
		}
		is_building_similar_to_robot_assembly = yes
	}

	immediate = {
		remove_building = building_avb_orb_ring_connection_robot_3
		add_building = building_avb_orb_ring_connection
		remove_planet_flag = avb_orb_robot_assembly_2
		set_planet_flag = avb_orb_robot_assembly_3
	}
}
#Clone vats
planet_event = {
	id = avb_orb_up.21
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		last_building_changed = building_avb_orb_ring_connection_clone_2
		has_building = building_avb_orb_ring_connection_clone_2
		exists = planet
		planet = {
			has_planet_flag = avb_orb_clone_vats_1
		}
		exists = owner
		owner = {
			has_technology = tech_ring_avb_clone_vats_2
		}
		is_building_similar_to_clone_vats = yes
	}

	immediate = {
		remove_building = building_avb_orb_ring_connection_clone_2
		add_building = building_avb_orb_ring_connection
		remove_planet_flag = avb_orb_clone_vats_1
		set_planet_flag = avb_orb_clone_vats_2
	}
}
planet_event = {
	id = avb_orb_up.22
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		last_building_changed = building_avb_orb_ring_connection_clone_3
		has_building = building_avb_orb_ring_connection_clone_3
		exists = planet
		planet = {
			has_planet_flag = avb_orb_clone_vats_2
		}
		exists = owner
		owner = {
			has_technology = tech_ring_avb_clone_vats_3
		}
		is_building_similar_to_clone_vats = yes
	}

	immediate = {
		remove_building = building_avb_orb_ring_connection_clone_3
		add_building = building_avb_orb_ring_connection
		remove_planet_flag = avb_orb_clone_vats_2
		set_planet_flag = avb_orb_clone_vats_3
	}
}