namespace = avb_orb_del

# Deleting flags
country_event = {
	id = avb_orb_del.1
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		owner = {
			any_owned_planet = {
				limit = {
					OR = {
						has_planet_flag = avb_orb_robot_assembly.1
						has_planet_flag = avb_orb_robot_assembly.2
						has_planet_flag = avb_orb_robot_assembly.3
					}
					exists = orbital_defence
					OR = {
						orbital_defence = {
							exists = starbase
							starbase = {
								NOT = { has_starbase_building = ring_avb_robot_assembly }
							}
						}
						is_building_similar_to_robot_assembly = no
					}
				}
				remove_planet_flag = avb_orb_robot_assembly.1
				remove_planet_flag = avb_orb_robot_assembly.2
				remove_planet_flag = avb_orb_robot_assembly.3
			}
		}
	}
}
country_event = {
	id = avb_orb_del.2
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		owner = {
			any_owned_planet = {
				limit = {
					OR = {
						has_planet_flag = avb_orb_clone_vats.1
						has_planet_flag = avb_orb_clone_vats.2
						has_planet_flag = avb_orb_clone_vats.3
					}
					exists = orbital_defence
					OR = {
						orbital_defence = {
							exists = starbase
							starbase = {
								NOT = { has_starbase_building = ring_avb_clone_vats }
							}
						}
						is_building_similar_to_clone_vats = no
					}
				}
				remove_planet_flag = avb_orb_clone_vats.1
				remove_planet_flag = avb_orb_clone_vats.2
				remove_planet_flag = avb_orb_clone_vats.3
			}
		}
	}
}